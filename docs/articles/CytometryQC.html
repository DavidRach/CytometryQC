<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>CytometryQC • CytometryQC</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="CytometryQC_files/libs/quarto-html/popper.min.js"></script><script src="CytometryQC_files/libs/quarto-html/tippy.umd.min.js"></script><link href="CytometryQC_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="CytometryQC_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="CytometryQC">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CytometryQC</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/CytometryQC.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/GettingStarted.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/GitAndRstudio.html">GitAndRstudio</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DavidRach/CytometryQC/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>CytometryQC</h1>

      <p class="author">David Rach</p>
      <p class="date">2025-06-01</p>

      <small class="dont-index">Source: <a href="https://github.com/DavidRach/CytometryQC/blob/HEAD/vignettes/CytometryQC.qmd" class="external-link"><code>vignettes/CytometryQC.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <p>The end goal is to enable everyone to with little hassle set up their own InstrumentQC websites without needing to be as aware of R, Quarto and Git concepts as is currently required by following the <a href="https://github.com/UMGCCFCSS/InstrumentQC" class="external-link">How-To-Tutorial</a>.</p>
<p>CytometryQC is a rather non-traditional in terms on an R package. Namely, it’s sole purpose is to write code tailored to your individual instrument computers, that can then be run automatically to process the QC data present at particular folders.</p>
<p>CytometryQC also generates .qmd that make up the stylistic elements that are visible on the InstrumentQC website after rendering.</p>
<p>It additionally sets out to set up the taskscheduling that allows for automated processing; the creation of the GitHub repositories and the basic git commands to ensure the processed data gets archived and is available for visualization by the website.</p>
<p>As of May 31 at the Cyto conference, a good chunk of the above is now complete. However, still bugs I am working to enable fully smooth setup for both the Cytek and BD instruments. This will take a few weekends worth of free time to work out, so circle back later if you would prefer.</p>
<p>For those currently curious how this automated setup differs compared to the previously outline <a href="https://github.com/UMGCCFCSS/InstrumentQC" class="external-link">How-To-Tutorial</a>, follow along for the bulletpoint version of the current workflow.</p>
<section class="section level2"><h2 id="setup-the-instrumentqc-folder">Setup the InstrumentQC folder<a class="anchor" aria-label="anchor" href="#setup-the-instrumentqc-folder"></a>
</h2>
<p>All the elements of our InstrumentQC website start off in an InstrumentQC folder that is tracked by Git. Everything within is used either for processing data, passing the data to GitHub, or is used to produce the Quarto website.</p>
<p>Consequently, everyone trying to get set up will need to have this folder, with some customization for their own individual institution.</p>
<p>To do so, we would first go to the main instrument computer (ideally connected to the internet) and run the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://davidrach.github.io/CytometryQC/" class="external-link">CytometryQC</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/FolderSetup.html">FolderSetup</a></span><span class="op">(</span>organization_name<span class="op">=</span><span class="st">""</span>, organization_website<span class="op">=</span><span class="st">""</span>,</span>
<span>githubusername<span class="op">=</span><span class="st">""</span>, institution_name <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Filling in the values between the quotation marks. For our institution, this would look like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/FolderSetup.html">FolderSetup</a></span><span class="op">(</span></span>
<span>  SetUpGit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  organization_name <span class="op">=</span> <span class="st">"UMGCC FCSS"</span>,</span>
<span>  organization_website <span class="op">=</span> <span class="st">"https://www.medschool.umaryland.edu/cibr/core/umgccc_flow/"</span>,</span>
<span>  githubusername <span class="op">=</span> <span class="st">"umgccfcss"</span>,</span>
<span>  institution_name <span class="op">=</span> <span class="st">"University of Maryland, Baltimore"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<p>This in turn produces an InstrumentQC2 folder containing most of the website framework components.</p>
</section><section class="section level2"><h2 id="adding-the-instruments">Adding the Instruments<a class="anchor" aria-label="anchor" href="#adding-the-instruments"></a>
</h2>
<p>Next step is adding the instruments. Note, some of the code chunks in the .qmd and .R files are the previously mentioned things not ready before Cyto I need a couple weekends to work out, but the majority of the code works as intended, so if you want to edit these manually, reach out and I can walk through the locations. Or hurry up my editing. Either way :D</p>
<p>We would run something like this for each Cytek instrument being added:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/AddInstruments.html">AddInstruments</a></span><span class="op">(</span></span>
<span>  name<span class="op">=</span><span class="st">"The5Laser"</span>,</span>
<span>  manufacturer <span class="op">=</span> <span class="st">"Cytek"</span>,</span>
<span>  uv <span class="op">=</span> <span class="fl">16</span>,</span>
<span>  violet <span class="op">=</span> <span class="fl">16</span>,</span>
<span>  blue <span class="op">=</span> <span class="fl">14</span>,</span>
<span>  yellowgreen <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  red <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  TheFCSFolderPath <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  CytekbioExportFolderPath <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<p>This code would add all the required components to the existing InstrumentQC2 backbone to allow for the processing and rendering of the QC data. TheFCSFolderPath and CytekExportFolderPath arguments are in case the folders are different from traditional location after SpectroFlo installation on your individual computer.</p>
<p>For the BD instruments, the process above is similar, but specifying FCS path argument the location of the .fcs QC files.</p>
<p>For non-Cytek and non-BD instruments, option of adding is retained, as long as you know how the detector configuration is set up. I am interested in adding other spectral cytometry platforms in as I work out existing bugs, so reach out if you have one and are wanting to get it working on your eventual dashboard.</p>
<p>After this is done, you could either add all other instruments right now while you are thinking about it, or wait until you are on their respective computers later when you can check the file path.</p>
</section><section class="section level2"><h2 id="render-the-website">Render the Website<a class="anchor" aria-label="anchor" href="#render-the-website"></a>
</h2>
<p>Having everything setup, we would now make sure the website can render, see how-to-tutorial for details while we are under development.</p>
</section><section class="section level2"><h2 id="push-data-to-a-new-github-repository">Push data to a new GitHub repository<a class="anchor" aria-label="anchor" href="#push-data-to-a-new-github-repository"></a>
</h2>
<p>We would create and move the data to a new repository on Github, see how-to-tutorial for details while we are under development.</p>
</section><section class="section level2"><h2 id="repeat-checks-on-other-instruments">Repeat checks on other instruments<a class="anchor" aria-label="anchor" href="#repeat-checks-on-other-instruments"></a>
</h2>
</section><section class="section level2"><h2 id="set-task-scheduler-to-run-at-time-of-your-choice">Set task scheduler to run at time of your choice<a class="anchor" aria-label="anchor" href="#set-task-scheduler-to-run-at-time-of-your-choice"></a>
</h2>
</section><section class="section level2"><h2 id="ensure-that-the-github-actions-runs-correctly-to-automatically-render-the-website-after-qc-data-gets-sent-in-the-morning">Ensure that the GitHub actions runs correctly to automatically render the website after QC data gets sent in the morning<a class="anchor" aria-label="anchor" href="#ensure-that-the-github-actions-runs-correctly-to-automatically-render-the-website-after-qc-data-gets-sent-in-the-morning"></a>
</h2>
</section><section class="section level2"><h2 id="generate-the-historical-data-repositories-">Generate the historical data repositories.<a class="anchor" aria-label="anchor" href="#generate-the-historical-data-repositories-"></a>
</h2>
<p>Once the regular website is in working order, it is time to generate the historical elements. Basically, for each instrument present on the website, CytometryQC will produce an additional repository for, and then for every year of data, CytometryQC will need to create a webpage to visualize. Then these new webpages get linked in to the main website so that when you click, you automatically navigate over without realizing you made the switch.</p>
<p>To do so in the current workflow, you run the following:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/HistoricalPages.html">HistoricalPages</a></span><span class="op">(</span>githubusername<span class="op">=</span><span class="st">""</span>, Archive<span class="op">=</span><span class="st">"Bead"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>With arguments provided being the githubusername to which to save the new repositories to, and whether to use Bead or Holistic format for referencing stored datasets.</p>
</section><section class="section level2"><h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>This is the extent of what we are working on, stay tuned later this summer once everything gets completed.</p>
<p>Best- David</p>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Rach.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
